$(document).ready(function(){function t(t){$.ajax({url:t,type:"GET",data:{grand:u},statusCode:{404:function(){console.log("传monthly报错"),$(".con-info").hide(),$(".con-wrapper").append("<h2>您查看的商品为新品，没有排名信息！</h2>")}},success:function(t){$("#product_name").html(t.results[0].name),$("#product_price").html("¥"+t.results[0].price),$("#image_url").attr("src",t.results[0].image_url);var a=t.results[0].score,n=a.toFixed(2);$("#product_score").html(n);for(var l=t.results[0].date_rank.split(",").length,r=[],s=0;s<l;s++){var c=t.results[0].date_rank.split(",")[s].split(":")[1];r.push(c)}for(var i=[],o=0;o<l;o++){var u=t.results[0].date_rank.split(",")[o].split(":")[0];i.push(u)}e(i,r)}})}function e(t,e){var a=echarts.init(document.getElementById("main"));option={title:{text:"增长曲线"},tooltip:{trigger:"axis"},legend:{data:["商品销量排名"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:t},yAxis:{type:"value"},series:[{name:"商品销量排名",type:"line",stack:"总量",data:e}]},a.setOption(option)}function a(t){var e=/source=[a-z]+/,a=/area=[A-Z]{2}/,n=t.match(e)[0].split("=")[1],l=t.match(a)[0].split("=")[1];i=n,o=l;for(var r=["tmall","yhd","feiniu"],s=0;s<r.length;s++)if($("#store-list>li").attr("name")==r[s]){var c=$("#store-list>li[name="+r[s]+"]");$(c).children().attr("target","_Blank"),$(c).show().siblings().hide()}$(".ui.right.floated.button").each(function(){$(this).attr("name")==u&&$(this).addClass("red")})}function n(t){$("#collect_btn").click(function(){var t=$(this).attr("name"),e=$("h3").html(),a=$("img").attr("src"),n=i,l=o;$.ajax({url:"product-collect?skuid="+t+"&name="+e+"&image="+a+"&source="+n+"&area="+l,type:"GET",data:{exist:1},success:function(t){1==t.success?($("#collect_btn").children().removeClass("empty"),$("#collect_btn").children("span").html("已收藏")):($("#collect_btn").children().addClass("empty"),$("#collect_btn").children("span").html("加入收藏"))}})}),$(".ui.right.floated.button").click(function(){u=$(this).attr("name"),window.location.href="product-info"+t+"&grand="+u})}function l(t){$.ajax({url:t,type:"GET",dataType:"json",success:function(t){void 0===t.results?r(t):s(t)}})}function r(t){0===t.success?($("#collect_btn").children().removeClass("empty"),$("#collect_btn").children("span").html("已收藏")):($("#collect_btn").children().addClass("empty"),$("#collect_btn").children("span").html("加入收藏"))}function s(t){for(var a=[],n=0;n<rankNum;n++){var l=data.results[0].date_rank.split(",")[n].split(":")[0];a.push(l)}e(a,getRank)}function c(){var e=window.location.search;t("/api/v1/online-item"+e),a(e),n(e),l("product-collect"+e)}var i=null,o=null,u=$("#product_grand").attr("name");c()});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpc2NvdmVyeS9wcm9kdWN0X2luZm8uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJnZXRQcm9kdWN0c0luZm8iLCJ1cmwiLCJhamF4IiwidHlwZSIsImRhdGEiLCJncmFuZCIsInN0YXR1c0NvZGUiLCI0MDQiLCJjb25zb2xlIiwibG9nIiwiaGlkZSIsImFwcGVuZCIsInN1Y2Nlc3MiLCJodG1sIiwicmVzdWx0cyIsIm5hbWUiLCJwcmljZSIsImF0dHIiLCJpbWFnZV91cmwiLCJnb29kX3Njb3JlIiwic2NvcmUiLCJ0b0ZpeGVkIiwicmFua051bSIsImRhdGVfcmFuayIsInNwbGl0IiwibGVuZ3RoIiwiZ2V0UmFuayIsImkiLCJldmVyeVJhbmsiLCJwdXNoIiwiZ2V0UmFua0RhdGUiLCJqIiwiZXZlcnlSYW5rRGF0ZSIsImdyYXBoIiwicmFua0RhdGUiLCJyYW5rIiwibXlDaGFydCIsImVjaGFydHMiLCJpbml0IiwiZ2V0RWxlbWVudEJ5SWQiLCJvcHRpb24iLCJ0aXRsZSIsInRleHQiLCJ0b29sdGlwIiwidHJpZ2dlciIsImxlZ2VuZCIsImdyaWQiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJjb250YWluTGFiZWwiLCJ0b29sYm94IiwiZmVhdHVyZSIsInNhdmVBc0ltYWdlIiwieEF4aXMiLCJib3VuZGFyeUdhcCIsInlBeGlzIiwic2VyaWVzIiwic3RhY2siLCJzZXRPcHRpb24iLCJqdWRnZVNvdXJjaEZ1biIsIm1hbGwiLCJyZSIsInJlQXJlYSIsIm1hbGxOYW1lIiwibWF0Y2giLCJtYWxsQXJlYSIsInNvdXJjZSIsImFyZWEiLCJtYWxsQXJyYXkiLCJjdXJyZW50TWFsbCIsImNoaWxkcmVuIiwic2hvdyIsInNpYmxpbmdzIiwiZWFjaCIsInRoaXMiLCJhZGRDbGFzcyIsImNvbGxlY3RQcm9kdWN0c0Z1biIsInJlcXVlc3RQYXJhbSIsImNsaWNrIiwic2t1aWQiLCJwcm9kdWN0X25hbWUiLCJwcm9kdWN0X2ltYWdlIiwicHJvZHVjdF9zb3VyY2UiLCJwcm9kdWN0X2FyZWEiLCJleGlzdCIsIm9iaiIsInJlbW92ZUNsYXNzIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwicmVxdWVzdERhdGFGdW4iLCJkYXRhVHlwZSIsImFyZ3VtZW50IiwidW5kZWZpbmVkIiwianVkZ2VQcm9kdWN0Q29sbGVjdGVkIiwiZGF0ZUNob2ljZUZ1biIsImNvbGwiLCJhcmciLCJsaW5rUGFyYW0iLCJzZWFyY2giXSwibWFwcGluZ3MiOiJBQUFBQSxFQUFFQyxVQUFVQyxNQUFNLFdBS2QsUUFBU0MsR0FBZ0JDLEdBQ3JCSixFQUFFSyxNQUNFRCxJQUFLQSxFQUNMRSxLQUFNLE1BQ05DLE1BQU9DLE1BQVFBLEdBQ2ZDLFlBQ0lDLElBQUssV0FDREMsUUFBUUMsSUFBSSxjQUNaWixFQUFFLGFBQWFhLE9BQ2ZiLEVBQUUsZ0JBQWdCYyxPQUFPLGdDQUdqQ0MsUUFBUSxTQUFTUixHQUNiUCxFQUFFLGlCQUFpQmdCLEtBQUtULEVBQUtVLFFBQVEsR0FBR0MsTUFDeENsQixFQUFFLGtCQUFrQmdCLEtBQUssSUFBTVQsRUFBS1UsUUFBUSxHQUFHRSxPQUMvQ25CLEVBQUUsY0FBY29CLEtBQUssTUFBTWIsRUFBS1UsUUFBUSxHQUFHSSxVQUUzQyxJQUFJQyxHQUFhZixFQUFLVSxRQUFRLEdBQUdNLE1BQzdCQSxFQUFRRCxFQUFXRSxRQUFRLEVBQy9CeEIsR0FBRSxrQkFBa0JnQixLQUFLTyxFQUl6QixLQUFLLEdBRkRFLEdBQVVsQixFQUFLVSxRQUFRLEdBQUdTLFVBQVVDLE1BQU0sS0FBS0MsT0FDL0NDLEtBQ0tDLEVBQUksRUFBR0EsRUFBSUwsRUFBU0ssSUFBSyxDQUM5QixHQUFJQyxHQUFheEIsRUFBS1UsUUFBUSxHQUFZLFVBQUVVLE1BQU0sS0FBS0csR0FBR0gsTUFBTSxLQUFLLEVBQ3JFRSxHQUFRRyxLQUFLRCxHQUlqQixJQUFLLEdBRERFLE1BQ0tDLEVBQUksRUFBR0EsRUFBSVQsRUFBU1MsSUFBSyxDQUM5QixHQUFJQyxHQUFpQjVCLEVBQUtV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UUFBU21GLEdBQWNFLEdBRW5CLElBQUssR0FERHBFLE1BQ0tDLEVBQUksRUFBR0EsRUFBSVQsUUFBU1MsSUFBSyxDQUM5QixHQUFJQyxHQUFpQjVCLEtBQUtVLFFBQVEsR0FBWSxVQUFFVSxNQUFNLEtBQUtPLEdBQUdQLE1BQU0sS0FBSyxFQUN6RU0sR0FBWUQsS0FBS0csR0FFckJDLEVBQU1ILEVBQVlKLFNBR3RCLFFBQVNZLEtBQ0wsR0FBSTZELEdBQVlYLE9BQU9DLFNBQVNXLE1BQ2hDcEcsR0FBZ0Isc0JBQXNCbUcsR0FDdEN2QyxFQUFldUMsR0FDZnRCLEVBQW1Cc0IsR0FDbkJSLEVBQWUsa0JBQWtCUSxHQXZNckMsR0FBSWhDLEdBQVMsS0FDVEMsRUFBTyxLQUNQL0QsRUFBUVIsRUFBRSxrQkFBa0JvQixLQUFLLE9BdU1yQ3FCIiwiZmlsZSI6ImRpc2NvdmVyeS9wcm9kdWN0X2luZm8uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICB2YXIgc291cmNlID0gbnVsbDtcbiAgICB2YXIgYXJlYSA9IG51bGw7XG4gICAgdmFyIGdyYW5kID0gJCgnI3Byb2R1Y3RfZ3JhbmQnKS5hdHRyKCduYW1lJyk7XG5cbiAgICBmdW5jdGlvbiBnZXRQcm9kdWN0c0luZm8odXJsKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgZGF0YTogeydncmFuZCc6Z3JhbmR9LFxuICAgICAgICAgICAgc3RhdHVzQ29kZToge1xuICAgICAgICAgICAgICAgIDQwNDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+S8oG1vbnRobHnmiqXplJknKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmNvbi1pbmZvJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAkKCcuY29uLXdyYXBwZXInKS5hcHBlbmQoJzxoMj7mgqjmn6XnnIvnmoTllYblk4HkuLrmlrDlk4HvvIzmsqHmnInmjpLlkI3kv6Hmga/vvIE8L2gyPicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICAgICQoJyNwcm9kdWN0X25hbWUnKS5odG1sKGRhdGEucmVzdWx0c1swXS5uYW1lKTtcbiAgICAgICAgICAgICAgICAkKCcjcHJvZHVjdF9wcmljZScpLmh0bWwoJ8KlJyArIGRhdGEucmVzdWx0c1swXS5wcmljZSk7XG4gICAgICAgICAgICAgICAgJCgnI2ltYWdlX3VybCcpLmF0dHIoJ3NyYycsZGF0YS5yZXN1bHRzWzBdLmltYWdlX3VybCk7XG4gICAgICAgICAgICAgICAgLy8g5ZWG5ZOB5YiGXG4gICAgICAgICAgICAgICAgdmFyIGdvb2Rfc2NvcmUgPSBkYXRhLnJlc3VsdHNbMF0uc2NvcmU7XG4gICAgICAgICAgICAgICAgdmFyIHNjb3JlID0gZ29vZF9zY29yZS50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgICAgICQoJyNwcm9kdWN0X3Njb3JlJykuaHRtbChzY29yZSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgcmFua051bSA9IGRhdGEucmVzdWx0c1swXS5kYXRlX3Jhbmsuc3BsaXQoJywnKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdmFyIGdldFJhbmsgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmtOdW07IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlcnlSYW5rID0gKGRhdGEucmVzdWx0c1swXS5kYXRlX3JhbmspLnNwbGl0KCcsJylbaV0uc3BsaXQoJzonKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0UmFuay5wdXNoKGV2ZXJ5UmFuayk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGdldFJhbmtEYXRlID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByYW5rTnVtOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZXJ5UmFua0RhdGUgPSAoZGF0YS5yZXN1bHRzWzBdLmRhdGVfcmFuaykuc3BsaXQoJywnKVtqXS5zcGxpdCgnOicpWzBdO1xuICAgICAgICAgICAgICAgICAgICBnZXRSYW5rRGF0ZS5wdXNoKGV2ZXJ5UmFua0RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBncmFwaChnZXRSYW5rRGF0ZSxnZXRSYW5rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8g5oqY57q/5Zu+XG4gICAgZnVuY3Rpb24gZ3JhcGgocmFua0RhdGUscmFuayl7XG4gICAgICAgIC8v5Yid5aeL5YyWXG4gICAgICAgIHZhciBteUNoYXJ0ID0gZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJykpO1xuICAgICAgICAvL+WPguaVsOiuvue9rlxuICAgICAgICBvcHRpb24gPSB7XG4gICAgICAgICAgICAgICAgLy/moIfpopjnu4Tku7ZcbiAgICAgICAgICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn5aKe6ZW/5puy57q/J1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy/mj5DnpLrmoYbnu4Tku7bvvJrlnZDmoIfovbTop6blj5FcbiAgICAgICAgICAgICAgICB0b29sdGlwOiB7XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6ICdheGlzJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy/lm77kvovnu4Tku7ZcbiAgICAgICAgICAgICAgICBsZWdlbmQ6IHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogWyfllYblk4HplIDph4/mjpLlkI0nXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy/nm7Top5LlnZDmoIfns7vlhoXnu5jlm77nvZHmoLxcbiAgICAgICAgICAgICAgICBncmlkOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIOi3neemu+W3puS+p+WuueWZqOeahOi3neemu1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnMyUnLFxuICAgICAgICAgICAgICAgICAgICByaWdodDogJzQlJyxcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAnMyUnLFxuICAgICAgICAgICAgICAgICAgICBjb250YWluTGFiZWw6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8v5bel5YW35qCPXG4gICAgICAgICAgICAgICAgdG9vbGJveDoge1xuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDkv53lrZjlm77niYdcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVBc0ltYWdlOiB7fVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvL+ebtOinkuWdkOagh+ezuyBncmlkIOS4reeahCB4IOi9tFxuICAgICAgICAgICAgICAgIHhBeGlzOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsXG4gICAgICAgICAgICAgICAgICAgIGJvdW5kYXJ5R2FwOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogcmFua0RhdGVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8v55u06KeS5Z2Q5qCH57O7IGdyaWQg5Lit55qEIHkg6L20XG4gICAgICAgICAgICAgICAgeUF4aXM6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3ZhbHVlJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy/ns7vliJfliJfooahcbiAgICAgICAgICAgICAgICBzZXJpZXM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ+WVhuWTgemUgOmHj+aOkuWQjScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjazogJ+aAu+mHjycsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiByYW5rXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG5cbiAgICAgICAgICAgIH07XG4gICAgICAgIC8v5Y+C5pWw6K6+572u5pa55rOVXG4gICAgICAgIG15Q2hhcnQuc2V0T3B0aW9uKG9wdGlvbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24ganVkZ2VTb3VyY2hGdW4obWFsbCl7XG4gICAgICAgIHZhciByZSA9IC9zb3VyY2U9W2Etel0rLztcbiAgICAgICAgdmFyIHJlQXJlYSA9IC9hcmVhPVtBLVpdezJ9LztcbiAgICAgICAgdmFyIG1hbGxOYW1lID0gbWFsbC5tYXRjaChyZSlbMF0uc3BsaXQoJz0nKVsxXTtcbiAgICAgICAgdmFyIG1hbGxBcmVhID0gbWFsbC5tYXRjaChyZUFyZWEpWzBdLnNwbGl0KCc9JylbMV07XG4gICAgICAgIHNvdXJjZSA9IG1hbGxOYW1lO1xuICAgICAgICBhcmVhID0gbWFsbEFyZWE7XG4gICAgICAgIHZhciBtYWxsQXJyYXkgPSBbJ3RtYWxsJywneWhkJywnZmVpbml1J107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFsbEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoJCgnI3N0b3JlLWxpc3Q+bGknKS5hdHRyKCduYW1lJykgPT0gbWFsbEFycmF5W2ldKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRNYWxsID0gJCgnI3N0b3JlLWxpc3Q+bGlbbmFtZT0nKyBtYWxsQXJyYXlbaV0gKyddJyk7XG4gICAgICAgICAgICAgICAgJChjdXJyZW50TWFsbCkuY2hpbGRyZW4oKS5hdHRyKCd0YXJnZXQnLCdfQmxhbmsnKTtcbiAgICAgICAgICAgICAgICAkKGN1cnJlbnRNYWxsKS5zaG93KCkuc2libGluZ3MoKS5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyDliKTmlq3lvZPliY3ml6XmnJ/mrrVcbiAgICAgICAgJCgnLnVpLnJpZ2h0LmZsb2F0ZWQuYnV0dG9uJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoJ25hbWUnKSA9PSBncmFuZCkge1xuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3JlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb2xsZWN0UHJvZHVjdHNGdW4ocmVxdWVzdFBhcmFtKXtcbiAgICAgICAgJCgnI2NvbGxlY3RfYnRuJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBza3VpZCA9ICQodGhpcykuYXR0cignbmFtZScpO1xuICAgICAgICAgICAgdmFyIHByb2R1Y3RfbmFtZSA9ICQoJ2gzJykuaHRtbCgpO1xuICAgICAgICAgICAgdmFyIHByb2R1Y3RfaW1hZ2UgPSAkKCdpbWcnKS5hdHRyKCdzcmMnKTtcbiAgICAgICAgICAgIHZhciBwcm9kdWN0X3NvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgICAgIHZhciBwcm9kdWN0X2FyZWEgPSBhcmVhO1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6ICdwcm9kdWN0LWNvbGxlY3Q/c2t1aWQ9Jysgc2t1aWQgKycmbmFtZT0nKyBwcm9kdWN0X25hbWUgKycmaW1hZ2U9JysgcHJvZHVjdF9pbWFnZSArJyZzb3VyY2U9JysgcHJvZHVjdF9zb3VyY2UgKycmYXJlYT0nKyBwcm9kdWN0X2FyZWEsXG4gICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICAgICAgZGF0YToge2V4aXN0OiAxfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihvYmope1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnN1Y2Nlc3MgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5re75Yqg5oiQ5YqfXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjY29sbGVjdF9idG4nKS5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKCdlbXB0eScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2NvbGxlY3RfYnRuJykuY2hpbGRyZW4oJ3NwYW4nKS5odG1sKCflt7LmlLbol48nKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Yig6Zmk5oiQ5YqfXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjY29sbGVjdF9idG4nKS5jaGlsZHJlbigpLmFkZENsYXNzKCdlbXB0eScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2NvbGxlY3RfYnRuJykuY2hpbGRyZW4oJ3NwYW4nKS5odG1sKCfliqDlhaXmlLbol48nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgIC8vIOaXpeacn1xuICAgICAgICAkKCcudWkucmlnaHQuZmxvYXRlZC5idXR0b24nKS5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgZ3JhbmQgPSAkKHRoaXMpLmF0dHIoJ25hbWUnKTtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ3Byb2R1Y3QtaW5mbycrcmVxdWVzdFBhcmFtKycmZ3JhbmQ9JytncmFuZDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVxdWVzdERhdGFGdW4odXJsKXtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oYXJndW1lbnQpe1xuICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudC5yZXN1bHRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAganVkZ2VQcm9kdWN0Q29sbGVjdGVkKGFyZ3VtZW50KTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZUNob2ljZUZ1bihhcmd1bWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyDliKTmlq3lvZPliY3llYblk4HmmK/lkKbmlLbol49cbiAgICBmdW5jdGlvbiBqdWRnZVByb2R1Y3RDb2xsZWN0ZWQoY29sbCl7XG4gICAgICAgIC8vIGNvbGzvvJ0w77ya5a2Y5ZyoXG4gICAgICAgIGlmIChjb2xsLnN1Y2Nlc3MgPT09IDApIHtcbiAgICAgICAgICAgICQoJyNjb2xsZWN0X2J0bicpLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoJ2VtcHR5Jyk7XG4gICAgICAgICAgICAkKCcjY29sbGVjdF9idG4nKS5jaGlsZHJlbignc3BhbicpLmh0bWwoJ+W3suaUtuiXjycpO1xuICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAkKCcjY29sbGVjdF9idG4nKS5jaGlsZHJlbigpLmFkZENsYXNzKCdlbXB0eScpO1xuICAgICAgICAgICAgJCgnI2NvbGxlY3RfYnRuJykuY2hpbGRyZW4oJ3NwYW4nKS5odG1sKCfliqDlhaXmlLbol48nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8v6YCJ5oup5pel5pyfXG4gICAgZnVuY3Rpb24gZGF0ZUNob2ljZUZ1bihhcmcpe1xuICAgICAgICB2YXIgZ2V0UmFua0RhdGUgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByYW5rTnVtOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBldmVyeVJhbmtEYXRlID0gKGRhdGEucmVzdWx0c1swXS5kYXRlX3JhbmspLnNwbGl0KCcsJylbal0uc3BsaXQoJzonKVswXTtcbiAgICAgICAgICAgIGdldFJhbmtEYXRlLnB1c2goZXZlcnlSYW5rRGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZ3JhcGgoZ2V0UmFua0RhdGUsZ2V0UmFuayk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdCgpe1xuICAgICAgICB2YXIgbGlua1BhcmFtID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcbiAgICAgICAgZ2V0UHJvZHVjdHNJbmZvKCcvYXBpL3YxL29ubGluZS1pdGVtJytsaW5rUGFyYW0pOy8v5bGV56S65ZWG5ZOBXG4gICAgICAgIGp1ZGdlU291cmNoRnVuKGxpbmtQYXJhbSk7Ly/liKTmlq3lvZPliY3llYbln45cbiAgICAgICAgY29sbGVjdFByb2R1Y3RzRnVuKGxpbmtQYXJhbSk7Ly/ngrnlh7vmlLbol49cbiAgICAgICAgcmVxdWVzdERhdGFGdW4oJ3Byb2R1Y3QtY29sbGVjdCcrbGlua1BhcmFtKTtcbiAgICB9XG4gICAgaW5pdCgpO1xufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
